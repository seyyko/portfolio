<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dynamic Input Fields with Blur</title>
</head>
<body>
  <label for="min-input">Minimum:</label>
  <input type="number" id="min-input" min="0" value="0">

  <label for="value-input">Value:</label>
  <input type="number" id="value-input" value="0">

  <script>
    const minInput = document.getElementById("min-input");
    const valueInput = document.getElementById("value-input");

    /**
     * Mettre à jour la valeur du second champ lorsque le minimum est modifié (via blur)
     */
    function updateValueInputMin() {
      const newMin = parseInt(minInput.value) || 0; // Obtenir la nouvelle valeur minimale

      // Si la valeur de valueInput est inférieure au nouveau minimum, la mettre à jour
      if (parseInt(valueInput.value) < newMin) {
        valueInput.value = newMin;
      }

      // Mettre à jour l'attribut min du second champ
      valueInput.min = newMin;
    }

    /**
     * Ajouter un événement blur pour le champ minimum (min-input).
     * Cela garantit que la synchronisation se fait après que l'utilisateur ait quitté le champ.
     */
    minInput.addEventListener("blur", updateValueInputMin);

    /**
     * Ajouter un événement pour également garantir que la valeur est valide lorsque le champ perd son focus.
     * Cela empêche que la valeur de `value-input` soit inférieure à `min-input` après un changement.
     */
    valueInput.addEventListener("blur", function() {
      const newMin = parseInt(minInput.value) || 0;
      if (parseInt(valueInput.value) < newMin) {
        valueInput.value = newMin;
      }
    });
  </script>
</body>
</html>
